<div class="management-panel" data-plan-pk="{{ plan_pk }}">
    <h5>Current Coverage Type: <span class="badge bg-info">{{ coverage_display }}</span></h5>

    {% if coverage_type == 'include_selected' or coverage_type == 'exclude_selected' %}
        <div class="row">
            <div class="col-md-6">
                <h6>Currently Selected Items</h6>
                <ul class="list-group" id="{{ type }}-list"
                    data-add-url="{% url add_url pk=0 %}"
                    data-remove-url="{% url remove_url pk=0 item_id_placeholder=1 %}">
                    {% for item in items %}
                        <li class="list-group-item d-flex justify-content-between align-items-center" id="{{ type }}-item-{{ item.id }}">
                            {{ item.name }}
                            <button class="btn btn-sm btn-danger remove-item-btn"
                                    data-remove-url="{% url remove_url pk=plan_pk item_id_placeholder=item.id %}"
                                    data-target-id="{{ type }}-item-{{ item.id }}">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </li>
                    {% empty %}
                        <li class="list-group-item text-muted">No items have been selected yet.</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="col-md-6">
                <h6>Add New Item</h6>
                <div class="mb-3">
                    <input type="text" class="form-control item-search-input"
                           id="{{ type }}-search"
                           placeholder="Search for {{ type|title }} to add..."
                           data-search-url="{% url search_url %}"
                           data-results-target="{{ type }}-search-results"
                           data-item-type="{{ type }}">
                </div>
                <div id="{{ type }}-search-results"></div>
            </div>
        </div>
    {% else %}
        <div class="alert alert-light">
            <i class="fas fa-info-circle me-2"></i>
            Since the coverage type is set to <strong>"{{ coverage_display }}"</strong>, no specific items need to be managed here.
        </div>
    {% endif %}
</div>